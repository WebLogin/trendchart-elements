/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function t(t,e,i,s){var o,h=arguments.length,a=h<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(a=(h<3?o(a):h>3?o(e,i,a):o(e,i))||a);return h>3&&a&&Object.defineProperty(e,i,a),a
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}const e=window,i=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class h{constructor(t,e,i){if(this._$cssResult$=!0,i!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=o.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&o.set(e,t))}return t}toString(){return this.cssText}}const a=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new h(i,t,s)},r=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new h("string"==typeof t?t:t+"",void 0,s))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var n;const l=window,c=l.trustedTypes,p=c?c.emptyScript:"",d=l.reactiveElementPolyfillSupport,u={toAttribute(t,e){switch(e){case Boolean:t=t?p:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},v=(t,e)=>e!==t&&(e==e||t==t),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:v};class $ extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const s=this._$Ep(i,e);void 0!==s&&(this._$Ev.set(s,i),t.push(s))})),t}static createProperty(t,e=y){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,s=this.getPropertyDescriptor(t,i,e);void 0!==s&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(s){const o=this[t];this[e]=s,this.requestUpdate(t,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||y}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(r(t))}else void 0!==t&&e.push(r(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,s)=>{i?t.adoptedStyleSheets=s.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):s.forEach((i=>{const s=document.createElement("style"),o=e.litNonce;void 0!==o&&s.setAttribute("nonce",o),s.textContent=i.cssText,t.appendChild(s)}))})(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=y){var s;const o=this.constructor._$Ep(t,i);if(void 0!==o&&!0===i.reflect){const h=(void 0!==(null===(s=i.converter)||void 0===s?void 0:s.toAttribute)?i.converter:u).toAttribute(e,i.type);this._$El=t,null==h?this.removeAttribute(o):this.setAttribute(o,h),this._$El=null}}_$AK(t,e){var i;const s=this.constructor,o=s._$Ev.get(t);if(void 0!==o&&this._$El!==o){const t=s.getPropertyOptions(o),h="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:u;this._$El=o,this[o]=h.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let s=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||v)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var g;$.finalized=!0,$.elementProperties=new Map,$.elementStyles=[],$.shadowRootOptions={mode:"open"},null==d||d({ReactiveElement:$}),(null!==(n=l.reactiveElementVersions)&&void 0!==n?n:l.reactiveElementVersions=[]).push("1.6.1");const m=window,f=m.trustedTypes,S=f?f.createPolicy("lit-html",{createHTML:t=>t}):void 0,x="$lit$",_=`lit$${(Math.random()+"").slice(9)}$`,A="?"+_,b=`<${A}>`,w=document,k=()=>w.createComment(""),E=t=>null===t||"object"!=typeof t&&"function"!=typeof t,C=Array.isArray,P="[ \t\n\f\r]",z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,U=/-->/g,M=/>/g,R=RegExp(`>|${P}(?:([^\\s"'>=/]+)(${P}*=${P}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),T=/'/g,N=/"/g,O=/^(?:script|style|textarea|title)$/i,V=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),H=V(1),L=V(2),j=Symbol.for("lit-noChange"),B=Symbol.for("lit-nothing"),D=new WeakMap,I=w.createTreeWalker(w,129,null,!1);function W(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==S?S.createHTML(e):e}const q=(t,e)=>{const i=t.length-1,s=[];let o,h=2===e?"<svg>":"",a=z;for(let e=0;e<i;e++){const i=t[e];let r,n,l=-1,c=0;for(;c<i.length&&(a.lastIndex=c,n=a.exec(i),null!==n);)c=a.lastIndex,a===z?"!--"===n[1]?a=U:void 0!==n[1]?a=M:void 0!==n[2]?(O.test(n[2])&&(o=RegExp("</"+n[2],"g")),a=R):void 0!==n[3]&&(a=R):a===R?">"===n[0]?(a=null!=o?o:z,l=-1):void 0===n[1]?l=-2:(l=a.lastIndex-n[2].length,r=n[1],a=void 0===n[3]?R:'"'===n[3]?N:T):a===N||a===T?a=R:a===U||a===M?a=z:(a=R,o=void 0);const p=a===R&&t[e+1].startsWith("/>")?" ":"";h+=a===z?i+b:l>=0?(s.push(r),i.slice(0,l)+x+i.slice(l)+_+p):i+_+(-2===l?(s.push(void 0),e):p)}return[W(t,h+(t[i]||"<?>")+(2===e?"</svg>":"")),s]};class Z{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let o=0,h=0;const a=t.length-1,r=this.parts,[n,l]=q(t,e);if(this.el=Z.createElement(n,i),I.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(s=I.nextNode())&&r.length<a;){if(1===s.nodeType){if(s.hasAttributes()){const t=[];for(const e of s.getAttributeNames())if(e.endsWith(x)||e.startsWith(_)){const i=l[h++];if(t.push(e),void 0!==i){const t=s.getAttribute(i.toLowerCase()+x).split(_),e=/([.?@])?(.*)/.exec(i);r.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?Y:"?"===e[1]?Q:"@"===e[1]?tt:X})}else r.push({type:6,index:o})}for(const e of t)s.removeAttribute(e)}if(O.test(s.tagName)){const t=s.textContent.split(_),e=t.length-1;if(e>0){s.textContent=f?f.emptyScript:"";for(let i=0;i<e;i++)s.append(t[i],k()),I.nextNode(),r.push({type:2,index:++o});s.append(t[e],k())}}}else if(8===s.nodeType)if(s.data===A)r.push({type:2,index:o});else{let t=-1;for(;-1!==(t=s.data.indexOf(_,t+1));)r.push({type:7,index:o}),t+=_.length-1}o++}}static createElement(t,e){const i=w.createElement("template");return i.innerHTML=t,i}}function F(t,e,i=t,s){var o,h,a,r;if(e===j)return e;let n=void 0!==s?null===(o=i._$Co)||void 0===o?void 0:o[s]:i._$Cl;const l=E(e)?void 0:e._$litDirective$;return(null==n?void 0:n.constructor)!==l&&(null===(h=null==n?void 0:n._$AO)||void 0===h||h.call(n,!1),void 0===l?n=void 0:(n=new l(t),n._$AT(t,i,s)),void 0!==s?(null!==(a=(r=i)._$Co)&&void 0!==a?a:r._$Co=[])[s]=n:i._$Cl=n),void 0!==n&&(e=F(t,n._$AS(t,e.values),n,s)),e}class K{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:i},parts:s}=this._$AD,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:w).importNode(i,!0);I.currentNode=o;let h=I.nextNode(),a=0,r=0,n=s[0];for(;void 0!==n;){if(a===n.index){let e;2===n.type?e=new J(h,h.nextSibling,this,t):1===n.type?e=new n.ctor(h,n.name,n.strings,this,t):6===n.type&&(e=new et(h,this,t)),this._$AV.push(e),n=s[++r]}a!==(null==n?void 0:n.index)&&(h=I.nextNode(),a++)}return I.currentNode=w,o}v(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class J{constructor(t,e,i,s){var o;this.type=2,this._$AH=B,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cp=null===(o=null==s?void 0:s.isConnected)||void 0===o||o}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=F(this,t,e),E(t)?t===B||null==t||""===t?(this._$AH!==B&&this._$AR(),this._$AH=B):t!==this._$AH&&t!==j&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>C(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==B&&E(this._$AH)?this._$AA.nextSibling.data=t:this.$(w.createTextNode(t)),this._$AH=t}g(t){var e;const{values:i,_$litType$:s}=t,o="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=Z.createElement(W(s.h,s.h[0]),this.options)),s);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.v(i);else{const t=new K(o,this),e=t.u(this.options);t.v(i),this.$(e),this._$AH=t}}_$AC(t){let e=D.get(t.strings);return void 0===e&&D.set(t.strings,e=new Z(t)),e}T(t){C(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const o of t)s===e.length?e.push(i=new J(this.k(k()),this.k(k()),this,this.options)):i=e[s],i._$AI(o),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class X{constructor(t,e,i,s,o){this.type=1,this._$AH=B,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=B}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,s){const o=this.strings;let h=!1;if(void 0===o)t=F(this,t,e,0),h=!E(t)||t!==this._$AH&&t!==j,h&&(this._$AH=t);else{const s=t;let a,r;for(t=o[0],a=0;a<o.length-1;a++)r=F(this,s[i+a],e,a),r===j&&(r=this._$AH[a]),h||(h=!E(r)||r!==this._$AH[a]),r===B?t=B:t!==B&&(t+=(null!=r?r:"")+o[a+1]),this._$AH[a]=r}h&&!s&&this.j(t)}j(t){t===B?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Y extends X{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===B?void 0:t}}const G=f?f.emptyScript:"";class Q extends X{constructor(){super(...arguments),this.type=4}j(t){t&&t!==B?this.element.setAttribute(this.name,G):this.element.removeAttribute(this.name)}}class tt extends X{constructor(t,e,i,s,o){super(t,e,i,s,o),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=F(this,t,e,0))&&void 0!==i?i:B)===j)return;const s=this._$AH,o=t===B&&s!==B||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==B&&(s===B||o);o&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class et{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){F(this,t)}}const it=m.litHtmlPolyfillSupport;null==it||it(Z,J),(null!==(g=m.litHtmlVersions)&&void 0!==g?g:m.litHtmlVersions=[]).push("2.8.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var st,ot;class ht extends ${constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{var s,o;const h=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:e;let a=h._$litPart$;if(void 0===a){const t=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:null;h._$litPart$=a=new J(e.insertBefore(k(),t),t,void 0,null!=i?i:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return j}}ht.finalized=!0,ht._$litElement$=!0,null===(st=globalThis.litElementHydrateSupport)||void 0===st||st.call(globalThis,{LitElement:ht});const at=globalThis.litElementPolyfillSupport;null==at||at({LitElement:ht}),(null!==(ot=globalThis.litElementVersions)&&void 0!==ot?ot:globalThis.litElementVersions=[]).push("3.3.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const rt=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:s}=e;return{kind:i,elements:s,finisher(e){customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,nt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function lt(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):nt(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function ct(t){return lt({...t,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var pt;null===(pt=window.HTMLSlotElement)||void 0===pt||pt.prototype.assignedElements;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const dt=1;class ut{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vt="important",yt=" !"+vt,$t=(t=>(...e)=>({_$litDirective$:t,values:e}))(class extends ut{constructor(t){var e;if(super(t),t.type!==dt||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const s=t[i];return null==s?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`}),"")}update(t,[e]){const{style:i}=t.element;if(void 0===this.ht){this.ht=new Set;for(const t in e)this.ht.add(t);return this.render(e)}this.ht.forEach((t=>{null==e[t]&&(this.ht.delete(t),t.includes("-")?i.removeProperty(t):i[t]="")}));for(const t in e){const s=e[t];if(null!=s){this.ht.add(t);const e="string"==typeof s&&s.endsWith(yt);t.includes("-")||e?i.setProperty(t,e?s.slice(0,-11):s,e?vt:""):i[t]=s}}return j}});class gt extends ht{constructor(){super(...arguments),this.values=[],this.labels=[],this.max=0,this.static=!1,this.tooltipFormat="@L @V",this.tooltipDisabled=!1,this.width=0,this.height=0,this.valueShapes=[]}get valueShapeActive(){if(void 0!==this.active)return this.valueShapes[this.active]}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver((t=>{t.forEach((t=>{this.width=t.contentRect.width,this.height=t.contentRect.height}))})),this.resizeObserver.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this)}willUpdate(t){if(!this.width||!this.height)return;t.has("labels")&&(this.labels=this.labels.map((t=>null!=t?(""+t).trim():"")));["width","height","values","labels","min","max","gap","weight","point","inside","donut","radius"].some((e=>t.has(e)))&&this.computeChartShapes()}render(){return H`<div class="wrapper">${this.hasEnoughValueShapes()?this.chartTemplate():B} ${this.hasEnoughValueShapes()?this.tooltipTemplate():B}</div>`}firstUpdated(){const t=this.renderRoot.querySelector(".wrapper");let e;t.addEventListener("click",(t=>{const e=this.findValueShapeAtPosition(t.offsetX,t.offsetY);e&&this.dispatchValueShapeEvent("shape-click",e)})),t.addEventListener("mousemove",(t=>{const i=this.findValueShapeAtPosition(t.offsetX,t.offsetY);!e||i&&i.index===e.index||this.dispatchValueShapeEvent("shape-leave",e),!i||e&&i.index===e.index||this.dispatchValueShapeEvent("shape-enter",i),e=i,this.static||(this.active=null==e?void 0:e.index)})),t.addEventListener("mouseleave",(t=>{e&&this.dispatchValueShapeEvent("shape-leave",e),e=void 0,this.static||(this.active=e)})),document.addEventListener("click",(e=>{e.composedPath().includes(t)||this.static||t.dispatchEvent(new MouseEvent("mouseleave"))}))}updated(){const t=this.renderRoot.querySelector(".tooltip");if(t){const e=10,i=t.getBoundingClientRect();let s=parseFloat(t.style.left);i.left<e?s+=e-Math.floor(i.left):i.right>document.documentElement.offsetWidth-e&&(s+=document.documentElement.offsetWidth-e-Math.ceil(i.right)),t.style.left=`${s}px`}}get tooltipText(){return!this.valueShapeActive||this.static||this.tooltipDisabled?"":this.tooltipFormat.replace(/@V/g,this.valueShapeActive.value.toLocaleString()).replace(/@L/g,this.valueShapeActive.label?this.valueShapeActive.label:"").trim()}onlyNegativeValues(){return Math.max(...this.values)<=0}dispatchValueShapeEvent(t,e){this.dispatchEvent(new CustomEvent(t,{detail:{index:e.index,value:e.value,label:e.label},bubbles:!1,composed:!1}))}}gt.styles=a`:host{--color:#597BFC;--opacity:1;--opacity-active:0.5;--residual-color:black;--residual-opacity:0;--tooltip-font-color:white;--tooltip-font-size:0.875em;--tooltip-font-weight:bold;--tooltip-radius:3px;--tooltip-padding:3px 4px;--tooltip-background:black;--tooltip-shadow:none;display:block;width:120px;height:60px}.wrapper{display:block;width:100%;height:100%;position:relative;box-sizing:border-box;border-radius:inherit}.wrapper *{box-sizing:border-box}.chart{display:block;position:relative;z-index:1;width:100%;height:100%;overflow:hidden;border-radius:inherit;transform:translateZ(0)}.chart .residual{fill:var(--residual-color);opacity:var(--residual-opacity)}.tooltip{position:absolute;z-index:10;font-size:var(--tooltip-font-size);font-weight:var(--tooltip-font-weight);line-height:1;text-align:center;white-space:nowrap;color:var(--tooltip-font-color);padding:var(--tooltip-padding);pointer-events:none;user-select:none;border-radius:var(--tooltip-radius);background-color:var(--tooltip-background);box-shadow:var(--tooltip-shadow)}`,t([lt({type:Array})],gt.prototype,"values",void 0),t([lt({type:Array})],gt.prototype,"labels",void 0),t([lt({type:Number})],gt.prototype,"max",void 0),t([lt({type:Number,attribute:!1})],gt.prototype,"active",void 0),t([lt({type:Boolean,reflect:!0})],gt.prototype,"static",void 0),t([lt({type:String,attribute:"tooltip-format"})],gt.prototype,"tooltipFormat",void 0),t([lt({type:Boolean,attribute:"tooltip-disabled",reflect:!0})],gt.prototype,"tooltipDisabled",void 0),t([ct()],gt.prototype,"width",void 0),t([ct()],gt.prototype,"height",void 0);let mt=class extends gt{constructor(){super(...arguments),this.min=0,this.gap=2,this.radius=2,this.horizontal=!1}computeChartShapes(){this.valueShapes=[];const t=Math.min(...this.values,this.min),e=Math.max(...this.values,this.max),i=e-t,s=((this.horizontal?this.height:this.width)-this.gap*(this.values.length-1))/this.values.length,o=e=>{const s=this.horizontal?this.width:this.height,o=i?(e-t)/i*s:1;return this.horizontal?o:s-o};this.values.forEach(((h,a)=>{let r=(s+this.gap)*a,n=o(h<0?Math.min(e,0):h),l=o(h<0?h:Math.max(t,0));this.horizontal&&([n,l]=[l,n]);let c=l-n;0==c&&(c=1,i&&(this.horizontal?e<0:e>0)&&n--),this.valueShapes.push({index:a,value:h,label:this.labels[a],origin:{x:this.horizontal?n:r,y:this.horizontal?r:n},width:this.horizontal?c:s,height:this.horizontal?s:c})}))}chartTemplate(){const t=Math.min(this.radius,(this.horizontal?this.valueShapes[0].height:this.valueShapes[0].width)/2),e=t=>({opacity:`var(${this.active===t?"--opacity-active":"--opacity"})`,fill:`var(--color-${(null!=t?t:0)+1}, var(--color))`,willChange:"opacity"});return H`<svg class="chart"><defs><mask id="residual-mask" maskUnits="userSpaceOnUse">${this.valueShapes.map((e=>L`<rect x="${this.horizontal?0:e.origin.x}" y="${this.horizontal?e.origin.y:0}" width="${this.horizontal?this.width:e.width}" height="${this.horizontal?e.height:this.height}" rx="${t}" ry="${t}" fill="white"/><rect x="${e.origin.x}" y="${e.origin.y}" width="${e.width}" height="${e.height}" rx="${t}" ry="${t}" fill="black"/>`))}</mask></defs><rect class="residual" x="0" y="0" width="100%" height="100%" mask="url(#residual-mask)"/>${this.valueShapes.map((i=>L`<rect class="bar" x="${i.origin.x}" y="${i.origin.y}" width="${i.width}" height="${i.height}" rx="${t}" ry="${t}" style="${$t(e(i.index))}"/>`))}</svg>`}tooltipTemplate(){if(!this.valueShapeActive||!this.tooltipText)return H``;const t={left:this.valueShapeActive.origin.x+this.valueShapeActive.width/2+"px",top:this.valueShapeActive.origin.y-2+"px",transform:"translate(-50%, -100%)"};return!this.horizontal&&(this.valueShapeActive.value<0||this.onlyNegativeValues())&&(t.top=this.valueShapeActive.origin.y+this.valueShapeActive.height+2+"px",t.transform="translate(-50%, 0%)"),H`<div class="tooltip" style="${$t(t)}">${this.tooltipText}</div>`}findValueShapeAtPosition(t,e){if(!this.hasEnoughValueShapes())return;const i=this.horizontal?e:t;return this.valueShapes.find((t=>{const e=this.horizontal?t.origin.y:t.origin.x,s=this.horizontal?t.height:t.width,o=e-this.gap/2,h=e+s+this.gap/2;return i>=o&&i<=h}))}hasEnoughValueShapes(){return this.valueShapes.length>=2}};t([lt({type:Number})],mt.prototype,"min",void 0),t([lt({type:Number})],mt.prototype,"gap",void 0),t([lt({type:Number})],mt.prototype,"radius",void 0),t([lt({type:Boolean,reflect:!0})],mt.prototype,"horizontal",void 0),mt=t([rt("tc-bar")],mt);let ft=class extends gt{constructor(){super(...arguments),this.min=0,this.weight=2,this.inside=!1}computeChartShapes(){this.valueShapes=[],this.otherShapes={linePath:"",areaPath:""};const t=Math.min(...this.values,this.min),e=Math.max(...this.values,this.max)-t,i=this.point?this.point/2:(this.weight+6)/2,s=this.inside?i:this.weight/2,o=t=>t*((this.width-2*s)/(this.values.length-1))+s,h=i=>{const o=this.height-2*s;let h=o;return e&&(h-=(i-t)/e*o),h+s};this.valueShapes=this.values.map(((t,e)=>({index:e,value:t,label:this.labels[e],center:{x:o(e),y:h(t)},radius:i}))),this.otherShapes.linePath=this.valueShapes.map(((t,e)=>(0===e?"M":"L")+t.center.x+","+t.center.y)).join(" "),this.otherShapes.areaPath=this.otherShapes.linePath.concat("L"+(this.valueShapes[this.valueShapes.length-1].center.x+s)+","+this.valueShapes[this.valueShapes.length-1].center.y+" ").concat("L"+(this.valueShapes[this.valueShapes.length-1].center.x+s)+","+(h(Math.max(t,0))+(this.onlyNegativeValues()?-s:s))+" ").concat("L"+(this.valueShapes[0].center.x-s)+","+(h(Math.max(t,0))+(this.onlyNegativeValues()?-s:s))+" ").concat("L"+(this.valueShapes[0].center.x-s)+","+this.valueShapes[0].center.y+" ").concat("Z")}chartTemplate(){const t=t=>({opacity:`var(${this.active===t?"--point-opacity-active":"--point-opacity"})`,fill:"var(--point-inner-color)",stroke:"var(--point-border-color)",willChange:"opacity"}),e=t=>({opacity:`calc(100 * var(${this.active===t?"--point-opacity-active":"--point-opacity"}))`,willChange:"opacity"});return H`<svg class="chart"><defs><mask id="residual-mask" maskUnits="userSpaceOnUse"><rect x="0" y="0" width="100%" height="100%" fill="white"/><path d="${this.otherShapes.areaPath}" fill="black"/><path d="${this.otherShapes.linePath}" stroke-width="${this.weight}" stroke-linecap="round" stroke-linejoin="round" stroke="black" fill="none"/>${this.valueShapes.map((t=>L`<circle cx="${t.center.x}" cy="${t.center.y}" r="${t.radius}" fill="black" style="${$t(e(t.index))}"/>`))}</mask><mask id="area-mask" maskUnits="userSpaceOnUse"><rect x="0" y="0" width="100%" height="100%" fill="white"/><path d="${this.otherShapes.linePath}" stroke-width="${this.weight}" stroke-linecap="round" stroke-linejoin="round" stroke="black" fill="none"/>${this.valueShapes.map((t=>L`<circle cx="${t.center.x}" cy="${t.center.y}" r="${t.radius}" fill="black" style="${$t(e(t.index))}"/>`))}</mask><mask id="line-mask" maskUnits="userSpaceOnUse"><rect x="0" y="0" width="100%" height="100%" fill="white"/>${this.valueShapes.map((t=>L`<circle cx="${t.center.x}" cy="${t.center.y}" r="${t.radius}" fill="black" style="${$t(e(t.index))}"/>`))}</mask></defs><rect class="residual" x="0" y="0" width="100%" height="100%" mask="url(#residual-mask)"/><path class="area" d="${this.otherShapes.areaPath}" mask="url(#area-mask)"/><path class="line" d="${this.otherShapes.linePath}" stroke-width="${this.weight}" stroke-linecap="round" stroke-linejoin="round" mask="url(#line-mask)" style="${$t({opacity:"var(--opacity)",fill:"none",stroke:"var(--color)"})}"/></svg> <svg class="points">${this.valueShapes.map((e=>L`<circle class="point" cx="${e.center.x}" cy="${e.center.y}" r="${e.radius-.4*this.weight}" stroke-width="${.8*this.weight}" style="${$t(t(e.index))}"/>`))}</svg>`}tooltipTemplate(){if(!this.valueShapeActive||!this.tooltipText)return H``;const t={left:this.valueShapeActive.center.x+"px",top:this.valueShapeActive.center.y-this.valueShapeActive.radius-2+"px",transform:"translate(-50%, -100%)"};return(this.valueShapeActive.value<0||this.onlyNegativeValues())&&(t.top=this.valueShapeActive.center.y+this.valueShapeActive.radius+2+"px",t.transform="translate(-50%, 0%)"),H`<div class="tooltip" style="${$t(t)}">${this.tooltipText}</div>`}findValueShapeAtPosition(t,e){if(this.hasEnoughValueShapes())return this.valueShapes.reduce(((e,i)=>Math.abs(i.center.x-t)<Math.abs(e.center.x-t)?i:e))}hasEnoughValueShapes(){return this.valueShapes.length>=2}};ft.styles=[gt.styles,a`:host{--point-inner-color:var(--color);--point-border-color:var(--color);--point-opacity:0;--point-opacity-active:1;--area-color:var(--color);--area-opacity:0}.chart .area{fill:var(--area-color);opacity:var(--area-opacity)}.points{position:absolute;z-index:2;top:0;left:0;width:100%;height:100%;overflow:visible;transform:translateZ(0)}`],t([lt({type:Number})],ft.prototype,"min",void 0),t([lt({type:Number})],ft.prototype,"weight",void 0),t([lt({type:Boolean,reflect:!0})],ft.prototype,"inside",void 0),t([lt({type:Number})],ft.prototype,"point",void 0),ft=t([rt("tc-line")],ft);let St=class extends gt{constructor(){super(...arguments),this.gap=2,this.rotate=0}computeChartShapes(){var t;this.valueShapes=[],this.otherShapes={gapLines:[],residualPath:"",cutoutCircle:{}};const e=this.values.reduce(((t,e)=>t+e),0),i=Math.max(e,this.max);let s=0;const o={x:this.width/2,y:this.height/2},h=Math.min(o.x,o.y);this.otherShapes.cutoutCircle={center:o,radius:h-Math.min(null!==(t=this.donut)&&void 0!==t?t:1/0,h)};const a=(t,e)=>{const s=t/i*Math.PI*2-Math.PI/2+this.rotate*Math.PI*2/360;return{x:e*Math.cos(s)+o.x,y:e*Math.sin(s)+o.y}},r=t=>{const e=t/i*100,r=a(s,h),n=a((s+t)*(100===e?.99999:1),h);let l="";return l+="M"+r.x+","+r.y+" ",l+="A"+[h,h,"0",e>50?"1":"0","1",n.x,n.y].join(",")+" ",l+="L"+[o.x,o.y].join(",")+" ",l+="Z",l};this.values.forEach(((t,e)=>{const i=a(s+t/2,h-(h-this.otherShapes.cutoutCircle.radius)/2);this.valueShapes.push({index:e,value:t,label:this.labels[e],center:i,path:r(t)}),s+=t,this.otherShapes.gapLines.push({start:a(s,h),end:o})}));const n=i-e;n&&(this.otherShapes.residualPath=r(n)),(n||1===this.values.length)&&this.otherShapes.gapLines.pop()}chartTemplate(){const t=t=>({opacity:`var(${this.active===t?"--opacity-active":"--opacity"})`,fill:`var(--color-${(null!=t?t:0)+1}, var(--color))`,willChange:"opacity"});return H`<svg class="chart"><defs><mask id="mask" maskUnits="userSpaceOnUse"><rect x="0" y="0" width="100%" height="100%" fill="white"/><circle cx="${this.otherShapes.cutoutCircle.center.x}" cy="${this.otherShapes.cutoutCircle.center.y}" r="${this.otherShapes.cutoutCircle.radius}" fill="black"/>${this.otherShapes.gapLines.map((t=>L`<line x1="${t.start.x}" y1="${t.start.y}" x2="${t.end.x}" y2="${t.end.y}" stroke-width="${this.gap}" stroke-linecap="round" stroke="black"/>`))}</mask></defs><g mask="url(#mask)"><path class="residual" d="${this.otherShapes.residualPath}"/>${this.valueShapes.map((e=>L`<path class="slice" d="${e.path}" style="${$t(t(e.index))}"/>`))}</g></svg>`}tooltipTemplate(){if(!this.valueShapeActive||!this.tooltipText)return H``;const t={left:this.valueShapeActive.center.x+"px",top:this.valueShapeActive.center.y+"px",transform:"translate(-50%, -50%)"};return H`<div class="tooltip" style="${$t(t)}">${this.tooltipText}</div>`}findValueShapeAtPosition(t,e){if(!this.hasEnoughValueShapes())return;if(1===this.valueShapes.length)return this.valueShapes[0];const i=this.renderRoot.querySelector(".chart"),s=i.createSVGPoint();s.x=t,s.y=e;const o=Array.from(i.querySelectorAll(".slice")).findIndex((t=>t.isPointInFill(s)));return o<0?void 0:this.valueShapes[o]}hasEnoughValueShapes(){return this.valueShapes.length>=1}};St.styles=[gt.styles,a`:host{width:60px;border-radius:100%}`],t([lt({type:Number})],St.prototype,"gap",void 0),t([lt({type:Number})],St.prototype,"rotate",void 0),t([lt({type:Number})],St.prototype,"donut",void 0),St=t([rt("tc-pie")],St);let xt=class extends gt{constructor(){super(...arguments),this.gap=2,this.radius=2,this.horizontal=!1}computeChartShapes(){this.valueShapes=[],this.otherShapes={gapLines:[],valuesRectangle:{}};const t=Math.max(this.values.reduce(((t,e)=>t+e),0),this.max);let e=this.horizontal?0:this.height;this.values.forEach(((i,s)=>{const o=this.horizontal?this.height:this.width,h=i/t*(this.horizontal?this.width:this.height);this.valueShapes.push({index:s,value:i,label:this.labels[s],origin:{x:this.horizontal?e:0,y:this.horizontal?0:e-h},width:this.horizontal?h:o,height:this.horizontal?o:h}),s>0&&0!==i&&this.otherShapes.gapLines.push({start:{x:this.horizontal?e:0,y:this.horizontal?0:e},end:{x:this.horizontal?e:o,y:this.horizontal?o:e}}),e=this.horizontal?e+h:e-h})),this.otherShapes.valuesRectangle={origin:{x:0,y:0},width:this.width,height:this.height},this.horizontal?this.otherShapes.valuesRectangle.width=this.valueShapes.reduce(((t,e)=>t+e.width),0):(this.otherShapes.valuesRectangle.height=this.valueShapes.reduce(((t,e)=>t+e.height),0),this.otherShapes.valuesRectangle.origin.y=this.height-this.otherShapes.valuesRectangle.height)}chartTemplate(){const t=Math.min(this.radius,this.height/2,this.width/2),e=t=>({opacity:`var(${this.active===t?"--opacity-active":"--opacity"})`,fill:`var(--color-${(null!=t?t:0)+1}, var(--color))`,willChange:"opacity"});return H`<svg class="chart"><defs><mask id="values-mask" maskUnits="userSpaceOnUse"><rect x="${this.otherShapes.valuesRectangle.origin.x}" y="${this.otherShapes.valuesRectangle.origin.y}" width="${this.otherShapes.valuesRectangle.width}" height="${this.otherShapes.valuesRectangle.height}" rx="${t}" ry="${t}" fill="white"/>${this.otherShapes.gapLines.map((t=>L`<line x1="${t.start.x}" y1="${t.start.y}" x2="${t.end.x}" y2="${t.end.y}" stroke-width="${this.gap}" stroke-linecap="round" stroke="black"/>`))}</mask><mask id="residual-mask" maskUnits="userSpaceOnUse"><rect x="0" y="0" width="100%" height="100%" rx="${t}" ry="${t}" fill="white"/><rect x="${this.otherShapes.valuesRectangle.origin.x}" y="${this.otherShapes.valuesRectangle.origin.y}" width="${this.otherShapes.valuesRectangle.width}" height="${this.otherShapes.valuesRectangle.height}" rx="${t}" ry="${t}" fill="black"/></mask></defs><rect class="residual" x="0" y="0" width="100%" height="100%" mask="url(#residual-mask)"/><g mask="url(#values-mask)">${this.valueShapes.map((t=>L`<rect class="bar" x="${t.origin.x}" y="${t.origin.y}" width="${t.width}" height="${t.height}" style="${$t(e(t.index))}"/>`))}</g></svg>`}tooltipTemplate(){if(!this.valueShapeActive||!this.tooltipText)return H``;const t={left:this.valueShapeActive.origin.x+this.valueShapeActive.width/2+"px",top:this.valueShapeActive.origin.y-2+"px",transform:"translate(-50%, -100%)"};return H`<div class="tooltip" style="${$t(t)}">${this.tooltipText}</div>`}findValueShapeAtPosition(t,e){if(!this.hasEnoughValueShapes())return;if(1===this.valueShapes.length)return this.valueShapes[0];const i=this.horizontal?t:e;return this.valueShapes.find((t=>{const e=this.horizontal?t.origin.x:t.origin.y,s=this.horizontal?t.width:t.height,o=e-this.gap/2,h=e+s+this.gap/2;return i>=o&&i<=h}))}hasEnoughValueShapes(){return this.valueShapes.length>=1}};xt.styles=[gt.styles,a`:host(:not([horizontal])){width:20px}:host([horizontal]){height:20px}`],t([lt({type:Number})],xt.prototype,"gap",void 0),t([lt({type:Number})],xt.prototype,"radius",void 0),t([lt({type:Boolean,reflect:!0})],xt.prototype,"horizontal",void 0),xt=t([rt("tc-stack")],xt);export{mt as TcBar,ft as TcLine,St as TcPie,xt as TcStack};